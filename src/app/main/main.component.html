<div class="main">
  <div class="main-div">
    <alert *ngIf='alertDiv' type="danger" class="alert-div">
      <strong>提示!</strong>请输入正确的数据格式
    </alert>
    <div class="title">
      项目名：
      <select [(ngModel)]='projectName' (change)='change()' style="border: none;">
        <option *ngFor="let i of tableList" [value]="i.value">{{i.text}}</option>
      </select>
    </div>
    <div class="title1">
      项目基本情况
    </div>
    <div class="title1-content">
      <div class="content">
        <div class="content-name">合同额（万元）</div>
        <div class="content-input">
          <input (keydown)='keyup()' (blur)='verifyNum(tableData.contractFee,"contractFee")' type="text" name="" id="" placeholder="保留小数后4位"
            [(ngModel)]='tableData.contractFee' maxlength="13">
        </div>
        <div class="content-name">业主名称</div>
        <div class="content-input">
          <input type="text" name="" id="" [(ngModel)]='tableData.owner' maxlength="100">
        </div>
      </div>
      <div class="content">
        <div class="content-name">工程地点</div>
        <div class="content-input">
          <input type="text" name="" id="" [(ngModel)]='tableData.projectAddress' maxlength="100">
        </div>
        <div class="content-name">经营类型</div>
        <div class="content-input">
          <select name="" id="" [(ngModel)]='tableData.bizType'>
            <option *ngFor='let i of bizType' [value]="i.id">{{i.name}}</option>
          </select>
        </div>
      </div>
      <div class="content">
        <div class="content-name">合同价格形式</div>
        <div class="content-input">
          <select name="" id="" [(ngModel)]='tableData.contractPriceType'>
            <option *ngFor='let i of contractPriceType' [value]="i.id">{{i.name}}</option>
          </select>
        </div>
        <div class="content-name">计量支付方式</div>
        <div class="content-input">
          <select name="" id="" [(ngModel)]='tableData.payType'>
            <option *ngFor='let i of payType' [value]="i.id">{{i.name}}</option>
          </select>
        </div>
      </div>
      <div class="content">
        <div class="content-name">支付比例（%）</div>
        <div class="content-input">
          <input type="text" name="" id="" [(ngModel)]='tableData.payRatio' maxlength="50">
        </div>
        <div class="content-name">合同开工时间</div>
        <div class="content-input">
          <input type="text" (blur)='isDate(tableData.contractStartDate)' [(ngModel)]='tableData.contractStartDate' name="" id="" placeholder="8位数字，如20140525"
            maxlength="8">
        </div>
      </div>
      <div class="content">
        <div class="content-name">实际开工时间</div>
        <div class="content-input">
          <input type="text" (blur)='isDate(tableData.actualStartDate)' [(ngModel)]='tableData.actualStartDate' name="" id="" placeholder="8位数字，如20140525"
            maxlength="8">
        </div>
        <div class="content-name">计划竣工时间</div>
        <div class="content-input">
          <input type="text" (blur)='isDate(tableData.planEndDate)' [(ngModel)]='tableData.planEndDate' name="" id="" placeholder="8位数字，如20140525"
            maxlength="8">
        </div>
      </div>
    </div>
    <div class="title1">
      施工图预算编制
    </div>
    <div class="title1-content">
      <div class="content">
        <div class="content-name">收到施工图日期</div>
        <div class="content-input">
          <input type="text" (blur)='isDate(tableData.receivePicDate)' [(ngModel)]='tableData.receivePicDate' name="" id="" placeholder="8位数字，如20140525"
            maxlength="8">
        </div>
      </div>
      <div class="content">
        <div class="content-name">施工图预算编制状态</div>
        <div class="content-input flex-2">
          <select name="" id="" [(ngModel)]='tableData.picBudgetStatus' (change)='picBudgetStatusChange()'>
            <option *ngFor='let i of picBudgetStatus' [value]="i.id">{{i.name}}</option>
          </select>
        </div>
        <div class="content-name">未编制原因</div>
        <div class="content-input flex-4">
          <input [disabled]='picBudgetStatusDis' type="text" name="" id="" [(ngModel)]='tableData.picBudgetMemo' maxlength="255">
        </div>
      </div>
      <div class="content">
        <div class="content-name">施工图预算核对情况</div>
        <div class="content-input flex-2">
          <select name="" id="" [(ngModel)]='tableData.picVerifyStatus' (change)='picVerifyStatusChange()'>
            <option *ngFor='let i of picVerifyStatus' [value]="i.id">{{i.name}}</option>
          </select>
        </div>
        <div class="content-name">施工图预算未核对原因</div>
        <div class="content-input flex-4">
          <input [disabled]='picVerifyStatusDis' type="text" name="" id="" [(ngModel)]='tableData.picVerifyMemo' maxlength="255">
        </div>
      </div>
    </div>
    <div class="title1">
      营业收入情况
    </div>
    <div class="title1-content">
      <div class="content textarea">
        <div class="content-name flex-2">形象进度</div>
        <div class="content-input flex-4">
          <textarea [(ngModel)]='tableData.biProgressDesc' maxlength="1000"></textarea>
        </div>
      </div>
      <div class="title2">
        当月
      </div>
      <div class="content">
        <div class="content-name flex-2">实际完成产值</div>
        <div class="content-input flex-4">
          <input type="text" (blur)='verifyNum(tableData.biActualValue,"biActualValue")' [(ngModel)]='tableData.biActualValue' maxlength="13"
            placeholder="指按照合同约定的计价方式计算的当月实际完成产值">
        </div>
      </div>
      <div class="title2">
        自年初累计
      </div>
      <div class="title3 content">
        <div class="content-name flex-2">
          实际完成产值
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>不含税实际完成产值</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input [(ngModel)]='tableData.biActualValueExclTax' (blur)='verifyNum(tableData.biActualValueExclTax,"biActualValueExclTax")'
                  type="text" name="" id="" maxlength="13">
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>税金</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" [(ngModel)]='tableData.biActualValueTax' (blur)='verifyNum(tableData.biActualValueTax,"biActualValueTax")'
                  type="text" name="" id="" placeholder="老项目税金不单列，并入实际完成产值中；新项目要填">
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="title2">
        自开工累计
      </div>
      <div class="title3 content">
        <div class="content-name flex-2">
          财务账面主营业务收入+税金
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>主营业务收入</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" disabled type="text" name="" id="" [(ngModel)]='tableData.biMainBizIncome' (blur)='verifyNum(tableData.biMainBizIncome,"biMainBizIncome")'>
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>税金</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" disabled type="text" name="" id="" [(ngModel)]='tableData.biMainBizIncomeTax' (blur)='verifyNum(tableData.biMainBizIncomeTax,"biMainBizIncomeTax")'>
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="content">
        <div class="content-name flex-2">工程结算科目</div>
        <div class="content-input flex-4">
          <input type="text" disabled maxlength="50" [(ngModel)]='tableData.biProjectSettleSubject' placeholder="">
        </div>
      </div>
      <div class="title3 content">
        <div class="content-name flex-2">
          实际完成产值
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>不含税实际完成产值</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input type="text" maxlength="13" (blur)='verifyNum(tableData.biActualValueExclTaxStart,"biActualValueExclTaxStart")' [(ngModel)]='tableData.biActualValueExclTaxStart'
                  name="" id="">
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>税金</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input type="text" maxlength="13" (blur)='verifyNum(tableData.biActualValueTaxStart,"biActualValueTaxStart")' [(ngModel)]='tableData.biActualValueTaxStart'
                  name="" id="" placeholder="老项目税金不单列，并入实际完成产值中；新项目要填">
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="title1">
      业主确认期中结算情况
    </div>
    <div class="title1-content">
      <div class="title2">
        当月
      </div>
      <div class="content">
        <div class="content-name flex-2">业主批复金额</div>
        <div class="content-input flex-4">
          <input type="text" maxlength="13" (blur)='verifyNum(tableData.ownerReplyAmount,"ownerReplyAmount")' [(ngModel)]='tableData.ownerReplyAmount'
            placeholder="业主签批手续完整，能够达到财务记账的业主确认的计量。应与项目期中结算台账对应">
        </div>
      </div>
      <div class="title2">
        自年初累计
      </div>
      <div class="title3 content">
        <div class="content-name flex-2">
          业主批复金额
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>不含税金业主批复金额</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" (blur)='verifyNum(tableData.ownerReplyAmountExclTax,"ownerReplyAmountExclTax")' [(ngModel)]='tableData.ownerReplyAmountExclTax'
                  type="text" name="" id="">
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>税金</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" (blur)='verifyNum(tableData.ownerReplyAmountTax,"ownerReplyAmountTax")' [(ngModel)]='tableData.ownerReplyAmountTax'
                  type="text" name="" id="" placeholder="老项目税金不单列，并入业主批复产值中；新项目要填">
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="title2">
        自开工累计
      </div>
      <div class="title3 content">
        <div class="content-name flex-2">
          业主批复金额
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>不含税金业主批复金额</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" (blur)='verifyNum(tableData.ownerReplyAmountExclTax2,"ownerReplyAmountExclTax2")' type="text" [(ngModel)]='tableData.ownerReplyAmountExclTax2'
                  name="" id="">
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>税金</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" type="text" (blur)='verifyNum(tableData.ownerReplyAmountTax2,"ownerReplyAmountTax2")' [(ngModel)]='tableData.ownerReplyAmountTax2'
                  name="" id="" placeholder="老项目税金不单列，并入业主批复产值中；新项目要填">
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="title3 content height-4">
        <div class="content-name flex-2">
          其中
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>按合同应收工程款</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" type="text" (blur)='verifyNum(tableData.contractReceivable,"contractReceivable")' [(ngModel)]='tableData.contractReceivable'
                  name="" id="">
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>已收工程款</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" type="text" (blur)='verifyNum(tableData.receivedAmount,"receivedAmount")' [(ngModel)]='tableData.receivedAmount'
                  name="" id="" placeholder="">
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>项目部已支付工程款</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" type="text" (blur)='verifyNum(tableData.projectPayed,"projectPayed")' [(ngModel)]='tableData.projectPayed'
                  name="" id="" placeholder="">
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>资金占用费(资金利息）</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" type="text" (blur)='verifyNum(tableData.capitalOccupyFee,"capitalOccupyFee")' [(ngModel)]='tableData.capitalOccupyFee'
                  name="" id="" placeholder="">
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="title1">
      期中结算未确认部分
    </div>
    <div class="title1-content">
      <div class="title3 content">
        <div class="content-name flex-2">
          已上报正在审批中的目标值
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>自年初累计</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" (blur)='verifyNum(tableData.applyAimValueYear,"applyAimValueYear")' type="text" name="" id="" [(ngModel)]='tableData.applyAimValueYear'>
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>自开工累计</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="13" (blur)='verifyNum(tableData.applyAimValueStart,"applyAimValueStart")' type="text" name="" id="" placeholder=""
                  [(ngModel)]='tableData.applyAimValueStart'>
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="content">
        <div class="content-name flex-2">开工累计未达到计量条件的产值</div>
        <div class="content-input flex-4">
          <input maxlength="13" type="text" placeholder="如果小于等于，这个数据填0" [(ngModel)]='tableData.unreaachValue' (blur)='verifyNum(tableData.unreaachValue,"unreaachValue")'>
        </div>
      </div>
    </div>
    <div class="title1">
      期中结算报送、批复份数
    </div>
    <div class="title1-content">
      <div class="title3 content">
        <div class="content-name flex-2">
          自年初累计
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>报送期数</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="4" type="text" name="" id="" [(ngModel)]='tableData.sendYear'>
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>批复期数</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="4" type="text" name="" id="" placeholder="" [(ngModel)]='tableData.replyYear'>
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="title3 content">
        <div class="content-name flex-2">
          自开工累计
        </div>
        <div class="content-div flex-4">
          <div>
            <div class="content-name flex-2">
              <p>报送期数</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="4" type="text" name="" id="" [(ngModel)]='tableData.sendStart'>
              </p>
            </div>
          </div>
          <div>
            <div class="content-name flex-2">
              <p>批复期数</p>
            </div>
            <div class="flex-4 content-input">
              <p>
                <input maxlength="4" type="text" name="" id="" placeholder="" [(ngModel)]='tableData.replayStart'>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="title1">
      期中结算报送、批复份数
    </div>
    <div class="title1-content">
      <div class="title2">
        当月
      </div>
      <div class="content">
        <div class="content-name flex-2">项目实际成本及税金</div>
        <div class="content-input flex-4">
          <input maxlength="13" type="text" placeholder="" [(ngModel)]='tableData.costMonth' (blur)='verifyNum(tableData.costMonth,"costMonth")'>
        </div>
      </div>
      <div class="title2">
        自开工累计
      </div>
      <div class="content">
        <div class="content-name flex-2">项目实际成本及税金</div>
        <div class="content-input flex-4">
          <input maxlength="13" type="text" placeholder="" [(ngModel)]='tableData.costStart' (blur)='verifyNum(tableData.costStart,"costStart")'>
        </div>
      </div>
    </div>

    <div class="title1-content">
      <div class="content">
        <div class="content-name flex-2">项目商务经理</div>
        <div class="content-input flex-4">
          <input maxlength="20" type="text" placeholder="" [(ngModel)]='tableData.bizMgr'>
        </div>
        <div class="content-name flex-2">电话</div>
        <div class="content-input flex-4">
          <input maxlength="20" type="text" placeholder="" maxlength="11" [(ngModel)]='tableData.bizMgrTel'>
        </div>
      </div>
      <div class="button-div">
        <button class="btn btn-primary btn-block" (click)='submit()'>提交</button>
        <p>21号前，可以重复编辑提交</p>
      </div>
    </div>
  </div>
</div>